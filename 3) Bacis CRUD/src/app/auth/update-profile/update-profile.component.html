<app-loader *ngIf="isLoading"></app-loader>
<div class="container mt-5">
  <div class="row m-1">
    <div class="col-md-6 border border-dark rounded offset-md-2 shadow">
      <div class="text-center m-4">
        <h4><u>Update Profile</u></h4>
      </div>

      <div class="text-center" *ngIf="profilePath">
        <a href="{{profilePath}}" target="_blank">
          <img src="{{profilePath}}" width="150"/>
        </a>
      </div>

      <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">

        <app-text-input
        [control]="formGroup.controls.name"
        [type]="'text'" [controlName]="'name'" [label]="'Full Name'"
        [placeholder]="'Enter Full Name Here.'"
        [isSubmitted]="isSubmitted" ></app-text-input>

        <app-text-input
        [control]="formGroup.controls.contact"
        [type]="'text'" [controlName]="'contact'" [label]="'Contact'"
        [placeholder]="'Enter Contact Number Here.'"
        [isSubmitted]="isSubmitted" ></app-text-input>

        <app-text-input
        [control]="formGroup.controls.email"
        [type]="'text'" [controlName]="'email'" [label]="'Email'"
        [placeholder]="'Enter Email Here.'"
        [isSubmitted]="isSubmitted" ></app-text-input>

        <div class="form-group mb-1">
          <label>File</label>
          <input
          formControlName="file"
              type="file"
              class="form-control"
              (change)="onFileChange($event)">

              <span class="text-danger">{{fileError}}</span>
        </div>

        <div class="form-group mb-2 text-center">
          <button type="submit" class="btn btn-primary">Update</button>
        </div>

      </form>
    </div>
  </div>

</div>
